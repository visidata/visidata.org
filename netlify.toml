# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
  # Directory to change to before starting a build.
  # This is where we will look for package.json/.nvmrc/etc.
  # If not set, defaults to the root directory.
  base = "/"

  # Directory that contains the deploy-ready HTML files and assets generated by
  # the build. This is relative to the base directory if one has been set, or the
  # root directory if a base has not been set. This sample publishes the
  # directory located at the absolute path "root/project/build-output"
  publish = "_site/"

  # Default build command.
  command = "npm run build"

  environment = { NODE_VERSION = "15.6.0" }

[build.processing]
  skip_processing = false
[build.processing.css]
  bundle = true
  minify = true
[build.processing.js]
  bundle = true
  minify = true
[build.processing.html]
  pretty_urls = true
[build.processing.images]
  compress = true

# [[plugins]]

# Production context: all deploys from the Production branch set in your site’s
# Branches settings in the UI will inherit these settings.
# [context.production]
  

# Deploy Preview context: all deploys generated from a pull/merge request will
# inherit these settings.
[context.deploy-preview]
  publish = "_site/"

# [[headers]]
#   # Define which paths this specific [[headers]] block will cover.
#   for = "/*"

#   [headers.values]
#     X-Frame-Options = "DENY"
#     X-XSS-Protection = "1; mode=block"
#     Content-Security-Policy = "frame-ancestors https://www.facebook.com"

#     # Multi-value headers are expressed with multi-line strings.
# 	cache-control = '''
# 	max-age=0,
# 	no-cache,
# 	no-store,
# 	must-revalidate'''

# [functions]
#   # Directory with serverless functions, including background functions,
#   # to deploy. This is relative to the base directory if one has been set, 
#   # or the root directory if a base hasn’t been set.
#   directory = "functions/"

# An Edge Handler declaration
# [[edge_handlers]]
#   path = "/*"
#   handler = "filterRequests"